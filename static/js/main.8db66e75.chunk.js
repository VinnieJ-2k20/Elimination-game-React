(this["webpackJsonpelimination-game-react"]=this["webpackJsonpelimination-game-react"]||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),s=a.n(r),o=a(9),i=a.n(o),l=a(8),c=a(11),u=a(2),b=a(3),m=a(5),d=a(4),h=(a(17),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(b.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("ul",{className:"Rules",children:["Here are the game rules:",Object(n.jsx)("li",{children:"Game board consists of multiple numbered boxes"}),Object(n.jsx)("li",{children:"At the start of the game the Player selects total number of boxes and maximum amount that can be marked per turn"}),Object(n.jsx)("li",{children:"Player and Computer take turns crossing any number of boxes from 1 to max"}),Object(n.jsx)("li",{children:"The winning side is the one who crosses the last box"}),Object(n.jsx)("li",{children:"Good luck!"})]})}}]),a}(s.a.Component)),j=a(6),p=(a(18),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={boxes:25,turn:4,playerStarts:!0},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;"playerStarts"!==n?e.setState(Object(j.a)({},n,+r)):e.setState({playerStarts:"true"===r})},e.handleSubmit=function(t){t.preventDefault();var a=e.props.onStart,n=e.state,r=n.boxes,s=n.turn,o=n.playerStarts;console.log(o),a(r,s,o)},e.getTurnArray=function(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.boxes,a=e.turn,r=e.playerStarts,s=this.props,o=s.minBoxes,i=s.maxBoxes,l=s.minTurn,c=s.maxTurn;return Object(n.jsxs)("form",{className:"GameParamForm",action:"#",method:"POST",onSubmit:this.handleSubmit,children:[this.getTurnArray(),Object(n.jsx)("h2",{children:"Please, select new game parameters"}),Object(n.jsxs)("label",{htmlFor:"boxes",children:["Number of boxes:\xa0",Object(n.jsx)("input",{type:"range",name:"boxes",id:"boxes",min:o,max:i,value:t,onChange:this.handleChange}),"\xa0",t]}),Object(n.jsx)("br",{}),Object(n.jsxs)("label",{htmlFor:"turn",children:["Max boxes per turn:\xa0",Object(n.jsx)("select",{name:"turn",id:"turn",value:a,onChange:this.handleChange,children:this.getTurnArray(l,c).map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("label",{htmlFor:"playerStarts",children:["Player starts",Object(n.jsx)("input",{type:"radio",name:"playerStarts",id:"playerStarts",value:"true",checked:r,onChange:this.handleChange})]}),Object(n.jsxs)("label",{htmlFor:"computerStarts",children:["Computer starts",Object(n.jsx)("input",{type:"radio",name:"playerStarts",id:"computerStarts",value:"false",checked:!r,onChange:this.handleChange})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"GameParamForm__start-button",type:"submit",children:"Start game"})]})}}]),a}(s.a.Component)),x=a(10),f=a.n(x),g=(a(19),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={firstAvailable:1,playerTurn:!0},e.componentDidMount=function(){var t=e.props.playerStarts;console.log(t),e.setState({playerTurn:t}),t||setTimeout((function(){e.makeTurn()}),2e3)},e.handleClick=function(t){var a=e.props,n=a.board,r=a.maxTurnSize,s=a.onTurn,o=a.onGameEnd,i=e.state,l=i.firstAvailable;if(i.playerTurn){var c=t-l+2;if(console.log(c),!(c>r)){if(e.setState((function(e){return{firstAvailable:e.firstAvailable+c,playerTurn:!1}})),t+1===n.length)return console.log("You Won!"),s("You won! Congratulations!"),void o();s("Player crossed ".concat(c," box(es)")+" to total of ".concat(l+c-1)),setTimeout((function(){e.makeTurn()}),2e3)}}},e.makeTurn=function(){var t,a=e.props,n=a.board,r=a.maxTurnSize,s=a.onTurn,o=a.onGameEnd,i=e.state.firstAvailable,l=n.length-i+1;console.log("boxes left: ",l);var c=l%(r+1);t=l<=r?l:c||Math.floor(Math.random()*(r+1));var u="Computer crossed ".concat(t," box(es)"),b=" to total of ".concat(i+t-1);l<=r?(s(u+" and won the game. Better luck next time!"),o()):s(u+b),e.setState((function(e){return{firstAvailable:e.firstAvailable+t,playerTurn:!0}}))},e.handleHoverEnter=function(e,t){e.target.classList.contains("Board__box--available")&&document.querySelectorAll(".Board__box--available").forEach((function(e){+e.textContent<=t+1&&e.classList.add("Board__box--available-big")}))},e.handleHoverLeave=function(e,t){e.target.classList.contains("Board__box--available")&&document.querySelectorAll(".Board__box--available").forEach((function(e){e.classList.remove("Board__box--available-big")}))},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.board,r=t.maxTurnSize,s=this.state.firstAvailable,o=s-1,i=s-1+r;return Object(n.jsx)("section",{className:"Board",children:a.map((function(t){return Object(n.jsx)("div",{className:f()("Board__box",{"Board__box--crossed":t<o,"Board__box--available":t>=o&&t<i,"Board__box--unavailable":t>=i,"Board__box--final":t===a.length-1}),onClick:function(){e.handleClick(t)},onMouseEnter:function(a){e.handleHoverEnter(a,t)},onMouseLeave:function(a){e.handleHoverLeave(a,t)},children:t+1},t)}))})}}]),a}(s.a.Component)),v=(a(20),{minBoxes:20,maxBoxes:50,minTurn:3,maxTurn:6}),O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={areRulesVisible:!0,areSettingsVisible:!0,gameStarted:!1,gameEnded:!1,playerStarts:!0,boxes:0,turn:0,gameLog:["Game started!"]},e.toggleRules=function(){e.setState((function(e){return{areRulesVisible:!e.areRulesVisible}}))},e.getGameParams=function(t,a,n){e.setState({boxes:t,turn:a,playerStarts:n,areSettingsVisible:!1,gameStarted:!0})},e.writeInLog=function(t){e.setState((function(e){return{gameLog:[t].concat(Object(c.a)(e.gameLog))}}))},e.endGame=function(){e.setState({gameEnded:!0})},e.restart=function(){e.setState({areSettingsVisible:!0,gameStarted:!1,gameEnded:!1,playerStarts:!0,boxes:30,turn:4,gameLog:["Game started!"]})},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.areRulesVisible,a=e.areSettingsVisible,r=e.boxes,s=e.turn,o=e.gameStarted,i=e.gameLog,c=e.playerStarts,u=e.gameEnded;return Object(n.jsxs)("main",{className:"App",children:[Object(n.jsx)("h1",{children:"Welcome to Elimination Game"}),Object(n.jsxs)("section",{className:"App__rules",children:[Object(n.jsx)("button",{className:"App__button",type:"button",onClick:this.toggleRules,children:"Hide/show rules"}),t&&Object(n.jsx)(h,{})]}),a&&Object(n.jsx)(p,Object(l.a)(Object(l.a)({},v),{},{onStart:this.getGameParams})),o&&Object(n.jsx)("section",{className:"App__message",children:i[0]}),u&&Object(n.jsx)("button",{className:"App__button",type:"button",onClick:this.restart,children:"Choose different settings and restart"}),o&&Object(n.jsx)(g,{board:Array.from(Array(r).keys()),maxTurnSize:s,onTurn:this.writeInLog,playerStarts:c,onGameEnd:this.endGame}),o&&Object(n.jsx)("section",{className:"App__game-log",children:i.map((function(e){return Object(n.jsx)("p",{children:e},e)}))})]})}}]),a}(s.a.Component);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.8db66e75.chunk.js.map